/*! ClassifyJs v0.10.2 | (c) 2011-2013, Wei Kin Huang | http://classifyjs.com | MIT license | 2013-04-27 */;(function(t,e){"use strict";var n={},r=!{toString:null}.propertyIsEnumerable("toString"),o=r?"hasOwnProperty,valueOf,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,constructor".split(","):[],i=o.length,s=Object.prototype,u=s.toString,a=s.hasOwnProperty,l=/^(?:boolean|number|string|undefined)$/,c=function(t){return null===t||l.test(typeof t)},p=function(t){return"[object Function]"===u.call(t)},f=function(t){return t&&t.prototype&&p(t)},h=Array.isArray||function(t){return"[object Array]"===u.call(t)},d=/^\s*function\s+.+?\(.*?\)\s*\{\s*\[native code\]\s*\}\s*$/,v=function(t){return p(t)&&d.test(""+t)},y=function(t){var e,n=[];for(e in t)n[n.length]=e;if(r)for(e=0;i>e;++e)a.call(t,o[e])&&(n[n.length]=o[e]);return n},b=function(t){return h(t)?t:[t]},g=function(t){return Array.prototype.slice.call(t,0)},m=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,r=t.length;r>n;++n)if(t[n]===e)return n;return-1},_=function(t,e){return t.__original_=e,t},P=function(t,n,r){if(!t)return t;var o,i,s=0,u=t.length;if(u===e||p(t))for(i=y(t),u=i.length,o=t[i[0]];u>s&&n.call(r||o,o,i[s],t)!==!1;o=t[i[++s]]);else for(o=t[0];u>s&&n.call(r||o,o,s,t)!==!1;o=t[++s]);return t},x=function(t,e){var n=[];return P(t,function(r,o){n[n.length]=e(r,o,t)}),n},w=function(t,e){var n=[];return P(t,function(t){t!==e&&(n[n.length]=t)}),n},k=function(){var t=g(arguments),e=t.shift();return P(t,function(t){P(y(t),function(n){e[n]=t[n]})}),e},O=/^(?:superclass|subclass|implement|observable|bindings|extend|prototype|applicate|(?:add|remove)(?:Static|Observable|Aliased|Bound)Property)$/,A=/^__/,E={},C=[],S=[],j=[],L=[],R=[C,S,j,L],I=["onCreate","onPropAdd","onPropRemove","onInit"],N=v(Object.create)?Object.create:function(t){var e=function(){};return e.prototype=t,new e},T=function(t,e,n){t[e]=n},F=function(){var t=function(){};return t.prototype.init=function(){},t.superclass=null,t.subclass=[],t.implement=[],t.prototype.constructor=F,t.prototype.self=F,t.__isclass_=!0,t}(),B=function(t,n){return _(function(){var r,o=this.parent;return this.parent=t,r=n.apply(this,arguments),o===e?delete this.parent:this.parent=o,r},n)},V=function(t,e){if(E[t])throw Error('Adding duplicate mutator "'+t+'".');E[t]=e,e.name=t,e.propTest=RegExp("^__"+t+"_"),e.propPrefix="__"+t+"_",P(I,function(t,n){e[t]&&R[n].push(e)})},$=function(t){var e=E[t];if(!e)throw Error("Removing unknown mutator.");P(I,function(t,n){if(e[t]){var r=m(R[n],e);r>-1&&R[n].splice(r,1)}}),E[t]=null;try{delete E[t]}catch(n){}},G=function(t,n,r,o){var i,u,a;o!==s[r]&&(A.test(r)&&(i=!1,P(S,function(s){return s.propTest.test(r)?(r===s.propPrefix?P(o,function(e,r){s.onPropAdd.call(s,t,n,r,e)}):s.onPropAdd.call(s,t,n,r.replace(s.propTest,""),o),i=!0,!1):e}),i)||(u=n.prototype[r],a=t.prototype,T(a,r,p(o)&&!o.__isclass_&&p(u)?B(u,o):o),p(o)&&P(t.subclass,function(t){p(t.prototype[r])&&!t.prototype[r].__original_&&T(t.prototype,r,B(a[r],t.prototype[r]))})))},M=function(t,n){var r=!1;if(!A.test(n)||(P(j,function(o){return o.propTest.test(n)?(o.onPropRemove.call(o,t,n.replace(o.propTest,"")),r=!0,!1):e}),!r))if(p(t.prototype[n])){P(t.subclass,function(t){t.prototype[n]&&p(t.prototype[n])&&p(t.prototype[n].__original_)&&T(t.prototype,n,t.prototype[n].__original_)}),t.prototype[n]=null;try{delete t.prototype[n]}catch(o){}}else{t.prototype[n]=null;try{delete t.prototype[n]}catch(o){}}},U=function(){var t,n,r=F,o={},i=[],s=arguments,u=s.length;return 1===u?o=s[0]:2===u?(s[0].__isclass_||f(s[0])?r=s[0]:i=b(s[0]),o=s[1]):(r=s[0],i=b(s[1]),o=s[2]),o=k({},o),r.__isclass_||o.init||(o.init=r),t=function(){var n,r,o;if(!(this&&this.init&&this instanceof t))return t.invoke.apply(t,arguments);for(r=0,o=L.length;o>r;r++)if(n=L[r].onInit.call(L[r],this,t),n!==e){if(c(n))throw Error("Return values during onInit hook can only be objects.");return n}if(n=this.init.apply(this,arguments),n!==e){if(c(n))throw Error("Return values for the constructor can only be objects.");return n}},delete o.applicate,t.applicate=function(e){var n=function(){return t.apply(this,e)};return n.prototype=t.prototype,new n},t.invoke=o.invoke||(r.invoke&&p(r.invoke)&&!r.invoke.__original_?r.invoke:null)||_(function(){return t.applicate(arguments)},!0),delete o.invoke,t.superclass=r,t.subclass=[],t.implement=(h(r.implement)?r.implement:[]).concat(i),n=t.prototype=N(r.prototype),t.extend=n.extend=function(){return U.apply(null,[t].concat(g(arguments)))},r.subclass&&h(r.subclass)&&r.subclass.push(t),o.invoke=function(t,e){if(t in r.prototype&&"invoke"!==t&&p(r.prototype[t])){var n,o=this.invoke;return this.invoke=r.prototype.invoke,n=r.prototype[t].apply(this,e||[]),this.invoke=o,n}throw Error('Function "'+t+'" of parent class being invoked is undefined.')},t.addProperty=function(n,o,i){return i=i||"",o===e&&"string"!=typeof n?P(y(n),function(e){G(t,r,i+e,n[e])}):G(t,r,i+n,o),t},t.removeProperty=function(e){return M(t,e),t},0!==i.length&&P(i,function(t){var e=t.__isclass_?t.prototype:t;P(y(e),function(t){a.call(n,t)||a.call(o,t)||(o[t]=e[t])})}),P(C,function(e){e.onCreate.call(e,t,r)}),t.addProperty(o),n.constructor=t,n.self=t,t.__isclass_=!0,t};V("static",{onCreate:function(t){var e=this.propPrefix;t.addStaticProperty=function(n,r){return t.addProperty(n,r,e)},t.removeStaticProperty=function(n){return t.removeProperty(e+n)}},onPropAdd:function(t,e,n,r){O.test(n)||T(t,n,p(r)&&!r.__isclass_?_(function(){return r.apply(t,arguments)},r):r)},onPropRemove:function(t,e){if(!O.test(e)){t[e]=null;try{delete t[e]}catch(n){}}}}),V("nowrap",{onCreate:function(t){var e=this.propPrefix;t.addUnwrappedProperty=function(n,r){return t.addProperty(n,r,e)}},onPropAdd:function(t,e,n,r){T(t.prototype,n,r)}}),V("alias",{onCreate:function(t){var e=this.propPrefix;t.addAliasedProperty=function(n,r){return t.addProperty(n,r,e)}},onPropAdd:function(t,e,n,r){G(t,e,n,function(){return this[r].apply(this,arguments)})}}),V("bind",{onCreate:function(t,e){var n=this;t.bindings=(e.bindings||[]).slice(0),t.addBoundProperty=function(e,r){return t.addProperty(e,r,n.propPrefix)},t.removeBoundProperty=function(e){return t.removeProperty(n.propPrefix+e)}},onPropAdd:function(t,e,n,r){var o=m(t.bindings,n);0>o&&p(r)&&!r.__isclass_&&t.bindings.push(n),G(t,e,n,r)},onPropRemove:function(t,e){var n=m(t.bindings,e);0>n||(t.bindings.splice(n,1),P(t.subclass,function(t){m(t.bindings,e)>-1&&!a.call(t.prototype,e)&&t.removeBoundProperty(e)}),M(t,e))},onInit:function(t,e){var n=e.bindings||null;null!==n&&0!==n.length&&P(n,function(n){T(t,n,function(){var r=g(arguments);return r.unshift(this),e.prototype[n].apply(t,r)})})}});var q=U({context:null,name:null,events:null,writable:null,delay:null,_debounce:null,value:null,getter:null,setter:null,init:function(t,e,n){if(!t)throw Error("Cannot create Observer without class context.");this.context=t,this.name=e,this.events=[],this.writable=!0,this.delay=0,this._debounce=null,null!==n&&"object"==typeof n?(this.getter=p(n.get)?n.get:null,this.setter=p(n.set)?n.set:null,this.value=n.value,this.writable="boolean"==typeof n.writable?n.writable:!0,this.delay="number"==typeof n.delay?n.delay:0):this.value=n},get:function(){return this.getter?this.getter.call(this.context,this.value):this.value},set:function(t){var e=this.value,n=this.context;return this.writable?(this.value=this.setter?this.setter.call(n,t,e):t,this.value!==e&&this.emit(),n):n},emit:function(){var e=this,n=g(arguments);return this.delay>0?(null!==this._debounce&&t.clearTimeout(this._debounce),this._debounce=t.setTimeout(function(){e._debounce=null,e._triggerEmit(n)},this.delay)):this._triggerEmit(n),this.context},_triggerEmit:function(t){var e=0,n=this.events.length,r=this.context,o=this.events;for(t.unshift(this.value);n>e;++e)o[e].apply(r,t)},addListener:function(t){if(!p(t))throw Error("Observer.addListener only takes instances of Function");return this.events[this.events.length]=t,this.context},once:function(t){if(!p(t))throw Error("Observer.once only takes instances of Function");var e=this,n=function(){e.removeListener(n),t.apply(this,arguments)};return n.listener=t,this.addListener(n),this.context},removeListener:function(t){if(!p(t))throw Error("Observer.removeListener only takes instances of Function");for(var e=this.context,n=this.events,r=-1,o=0,i=n.length;i>o;++o)if(n[o]===t||n[o].listener&&n[o].listener===t){r=o;break}return 0>r?e:(n.splice(o,1),e)},removeAllListeners:function(){return this.events=null,this.events=[],this.context},listeners:function(){return this.events},toValue:function(){return this.value&&this.value.toValue?this.value.toValue():this.value},toString:function(){return"[observer "+this.name+"]"}});q.prototype.on=q.prototype.addListener,n.Observer=q,V("observable",{onCreate:function(t,e){var n=this;t.observable=k({},e.observable||{}),t.addObservableProperty=function(e,r){return t.addProperty(e,r,n.propPrefix)},t.removeObservableProperty=function(e){return t.removeProperty(n.propPrefix+e)}},onPropAdd:function(t,e,n,r){t.observable[n]=r,T(t.prototype,n,null),P(t.subclass,function(t){a.call(t.observable,n)||t.addObservableProperty(n,r)})},onPropRemove:function(t,e){var n=t.observable[e];P(t.subclass,function(t){t.observable[e]===n&&t.removeObservableProperty(e)}),t.observable[e]=null;try{delete t.observable[e]}catch(r){}},onInit:function(t,e){var n,r=e.observable||null;if(null!==r)for(n in r)a.call(r,n)&&(t[n]=new q(t,n,r[n]))}});var z,D,H,J,K={},Q="GLOBAL",W=function(t,e){return P(t,function(t){e[t]||(e[t]={}),e=e[t]}),e},X=function(t,e,n){if("string"==typeof e){if(n=t.get(e),!n)throw Error("Invalid parent class ["+e+"] specified.");return n}return h(e)?x(e,function(e){return X(t,e)}):e},Y=U({name:null,ref:null,init:function(t){this.name=t,this.ref={}},create:function(){var t=g(arguments),e=t.shift(),n=e.split("."),r=n.pop(),o=this,i=W(n,o),s=U.apply(null,x(t,function(t){return X(o,t)}));return s._name_=r,s._namespace_=e,s.extend=s.prototype.extend=function(){return U.apply(null,[s].concat(x(arguments,function(t){return X(o,t)})))},s.getNamespace=function(){return o},s.toString=function(){return"[object "+e+"]"},i[r]=s,o.ref[e]=s,s},destroy:function(t){var n,r=t.split("."),o=r.pop(),i=this,s=this,u=this.ref;return P(r,function(t){return s[t]?(s=s[t],e):(s=null,!1)}),s?(n=s[o])?(P(n.subclass,function(t){i.destroy(t._namespace_)}),n.superclass.subclass&&(n.superclass.subclass=w(n.superclass.subclass,n)),P(u,function(e,n){n!==t&&0===n.indexOf(t)&&i.destroy(e._namespace_)}),delete s[o],delete u[t],this):this:this},exists:function(t){return!!this.ref[t]},get:function(t){var e;return this.ref[t]?this.ref[t]:(e=this.load(t),null!==e?e:this.name!==Q?J().get(t):null)},load:function(t){return this.ref[t]||null},setAutoloader:function(t){if(!p(t))throw Error("Namespace.setAutoloader only takes instances of Function");return this.load=t,this},getName:function(){return this.name},toString:function(){return"[namespace "+this.name+"]"}});z=function(t){return t instanceof Y?t:(t=t||Q,K[t]||(K[t]=new Y(t)),K[t])},D=function(t){t instanceof Y&&(t=t.name),t!==Q&&delete K[t]},H=function(t){for(var e,n=t.split("."),r=n.length;""!==(e=n.slice(0,r--).join("."));)if(K[e])return K[e];return null},J=function(){return z(Q)},k(n,{Namespace:Y,getNamespace:z,destroyNamespace:D,testNamespace:H,getGlobalNamespace:J,global:J(),provide:function(e,n){return W(e.split("."),n||t||{})}});var Z="/",te=U({invoke:function(){var t,e,n=g(arguments),r=n.length;return 0===r?z():"string"==typeof n[0]?1===r?(e=n[0].split(Z),t=z(e[0]),e[1]?t.get(e[1]):t):2===r&&"string"==typeof n[1]?z(n[0]).get(n[1]):(e=n.shift().split(Z),t=z(e[0]),e[1]&&n.unshift(e[1]),t.create.apply(t,n)):U.apply(null,n)},init:function(){var t,e,n=g(arguments);if(1>n.length)throw Error("Classify object cannot be instantiated!");return t=h(n[n.length-1])?n.pop():[],e=te.invoke.apply(null,n),e.__isclass_?e.applicate(t):e}});if(k(te,n,{version:"@VERSION",create:U,addMutator:V,removeMutator:$,extend:k}),"function"==typeof define&&define.amd&&define(function(){return te}),"undefined"!=typeof module&&module.exports)module.exports=te,te.Classify=te;else{var ee=t.Classify;t.Classify=te,te.noConflict=function(){return ee===e?delete t.Classify:t.Classify=ee,te}}})(this);
//@ sourceMappingURL=classify.min.map